<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="cn.tedu.note.dao.NotebookDao">
	<select id="findNotebooksByUserId" parameterType="String" resultType="map">
		select 
			cn_notebook_id as id,
			cn_notebook_name as name 
		from 
			cn_notebook 
		where 
			cn_user_id=#{userId} 
		order by 
			cn_notebook_createtime desc
	</select>
	<select id="findNotebookById" parameterType="string" resultType="cn.tedu.note.entity.Notebook">
		    select 
		        cn_notebook_id          as id,
		        cn_user_id                  as userId,
		        cn_notebook_type_id         as typeId,
		        cn_notebook_name            as name,
		        cn_notebook_desc            as "desc",
		        cn_notebook_createtime  as createtime
		    from
		        cn_notebook
		    where 
		        cn_notebook_id=#{notebookId}            
	</select>
	<select id="countNotebookById"
		parameterType="string"
		resultType="int">
		select 
			count(*) as cnt		
		from 
			cn_notebook
		where
			cn_notebook_id = #{notebookId}
	</select>
	<select id="findNotebooksByPage" resultType="map">
		select 
			cn_notebook_id as id,
			cn_notebook_name as name
		from
			${table}
		where
			cn_user_id=#{userId}
		order by
			cn_notebook_createtime desc
		limit #{start},#{pageSize}
	</select>
</mapper>